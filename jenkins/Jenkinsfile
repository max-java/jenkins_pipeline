pipeline {
    agent any

      tools {
        jdk 'java11'
      }

    triggers{
        githubPush()
    }

    stages {
        stage('Build') {
            steps {
                sh './gradlew clean build'
                emailext
                              to: '6666350@gmail.com',
                            from: 'Jenkins',
                         subject: '[jenkins] ${packageFullName}: ',
                            body: 'Jenkins Build: \"${env.BUILD_URL}\"\n'
            }
        }
    }
    post{
            always{
                sendNotifications currentBuild.result
            }
        }
}
